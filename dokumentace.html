<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0067)https://www.fit.vutbr.cz/study/courses/IIS/private/projekt/doc.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2"><style id="stndz-style"></style>
    
    <title>Projekt IIS</title>
    <style type="text/css">
    	table { border-collapse: collapse; }
    	td, th { border: 1px solid black; padding: 0.3em 0.5em; text-align: left; }
    	dt { font-weight: bold; margin-top: 0.5em; }
		li code { padding-left: 10px;}
    </style>
</head>
<body>

<!-- Zkontrolujte prosím nastavení kódování v hlavièce dokumentu 
     podle pou¾itého editoru -->

<h1>3. Sport: správa turnajù, registrace hráèù a zadávání výsledkù</h1> <!-- Nahradte názvem svého zadání -->

<dl>
	<dt>Autoøi</dt>
	<dd>Tomá¹ Ry¹avý <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xrysav27@stud.fit.vutbr.cz">xrysav27@stud.fit.vutbr.cz</a> -
		backend & výpomoc s frontendem
	</dd>
	<dd>Martin Muzikáø <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xmuzik06@stud.fit.vutbr.cz">xmuzik06@stud.fit.vutbr.cz</a> -
		frontend & výpomoc s backendem
	</dd>
	<dt>URL aplikace</dt>
	<dd><a href="http://pavoukovac.herokuapp.com/">http://pavoukovac.herokuapp.com/</a></dd>
</dl>

<h2>U¾ivatelé systému pro testování</h2>
<table>
<tbody><tr><th>Login</th><th>Heslo</th><th>Role</th></tr>
<tr><td>admin@pavoukovac.cz</td><td>admin</td><td>Administrátor</td></tr>
<tr><td>user@pavoukovac.cz</td><td>user</td><td>U¾ivatel, správce týmù</td></tr>
<tr><td>user2@pavoukovac.cz</td><td>user</td><td>U¾ivatel, správce týmù</td></tr>
</tbody></table>

<img src="usc.png" style="width:50vw; margin-right: 1%; margin-left: auto"/>

<h2>Implementace</h2>
<p>Aplikace umo¾òuje prohlí¾ení v¹ech turnajù, týmù a jejich detailù v¹em nepøihlá¹eným u¾ivatelùm. Dá se proklikat i k
detailu u¾ivatelù, ale seznam v¹ech u¾ivatelù v databázi není pøístupný.</p>
<p>Pokud se u¾ivatel pøihlásí (SecurityController), je mu zpøístupnìno vytváøení týmù (TeamController) a turnajù (TournamentController).
	Pøihlá¹ený u¾ivatel je pokládán za kapitána týmu, tak¾e mù¾e
vytváøet hráèe (PlayerController), vytvá¾et týmy, do nich¾ mù¾e pøidat svoje hráèe, týmy pak mù¾e pøidávat na turnaje èi vytváøet vlastní turnaje a
pøidávat ostatní týmy.</p>
<p>Aministrátor pak má právo krom upravy v¹eho co pøihlá¹ený u¾ivatel (tak¾e v¹ech turnajù, hráèu a týmù v¹ech u¾ivatelù), tak i
pøidávání práv jednotlivým u¾ivatelùm.</p>

<p>Aplikace umo¾òuje vytvoøit dva rùzné modely souboje týmù v turnaji, první, korespondující se zadáním, vytváøí z
týmù pavouka. <br> Druhý rozdìlí v¹echny týmy do dvou skupin, a v ka¾dé skupinì hrají v¹ichni proti v¹em, nejlep¹í 4 z ka¾dé skupiny
postupují do finále, z tìchto osmi týmù je sestaven pavouk, který se dá pou¾ít.</p>
<p>Pøi sestavování pavouka se zohledòuje kdo je z jaké je skupiny a promixovává to podle standardu.</p>

<p>O tvorbu her se stará GameController, o výpis MapController</p>

<p>Vyu¾ité frameworky:</p>
<ul>
	<li>php 7.3.9</li>
	<li>Symfony CLI version v4.11.2</li>
	<li>Bootswatch 4.4.1</li>
	<li>Jquery 3.3.1</li>
	<li>Bootstrap 4.3.1</li>
</ul>

<h3>Databáze</h3>
<img src="erd.png" style="width:95vw; margin-right: auto; margin-left: auto"/>

<h2>Instalace</h2>

Struènì popi¹te: 
<ul>
	<li>pou¾íváme server Heroku a framework Symfony, kde pro instalaci staèí:</li>
	<ul>
		<li>nainstalovat aplikaci heroku</li>
		<li>v adresáøi s aplikací vytvoøit heroku projekt</li>
		<li><code>heroku create</code></li>
		<li>nastavit prostøedí na serveru</li>
		<li><code>heroku config:set APP_ENV=prod</code></li>
		<li>a pushnout aplikaci na server</li>
		<li><code>git push heroku master</code></li>
		<li>poté je tøeba vytvoøit databázi</li>
		<li><code>heroku addons:create jawsdb</code></li>
		<b>Pøidání addonu vy¾aduje ovìøení identity zadáním platební karty. Na kartu se ale nic nebude úètovat!</b>
		<li>získat info pro databázi</li>
		<li><code>heroku config:get JAWSDB_URL</code></li>
		<li>a nakonfigurovat promìnnou pomocí infa získaného pøedchozím pøíkazem, provázat datavázi s aplikací</li>
		<li><code>heroku config:set DATABASE_URL=mysql://USER:PASSWORD@HOST:PORT/DATABASE_NAME</code></li>
		<li>teï u¾ jenom staèí vytvoøit migraci databáze</li>
		<li><code>heroku run "php bin/console make:migration"</code></li>
		<li>a pøemigrovat, vytvoøit databázi z entit</li>
		<li><code>heroku run "php bin/console doctrine:migrations:migrate"</code></li>
		<li>aplikace je online a funkèní</li>
	</ul>
	<li>Lokální instalace</li>
	<ul>
		<li>Pøedpoklady: sta¾ené Symfony a Composer, bì¾ící MySQL server</li>
		<li>Konfigurace env souboru pro pou¾ití správné databáze</li>
		<li>Nastavte prvotní stav aplikace pomocí pøilo¾eného MySQL skriptu</li>
		<li><code>symfony server:start</code></li>
	</ul>
</ul>

<h2>Známé problémy</h2>
<p>Chybí implementace pøidání a vykreslení loga jednotlivých týmù.</p>
<p>Hráèi jsou tvoøeni u¾ivateli. Jeliko¾ jednou za rok poøádáme volejbalový turnaj, rozhodli jsme se udìlat aplikaci
	u¾iteènou a ne jen projekt pro projekt, proto jsem si dovolili upravit zadání a lehce se tímto vychylujeme, s tím
	se pojí i implementace modelu 'rostøel'.</p>
<p>U¾ivatel se v tunajích nijak neparticipuje, jen nachytá prostøedí pro hru.</p>
<p>Nelze odstranit tým participující se v turnaji, zpùsobilo by to nekonzistenci databáze, nevyøe¹ili jsme tento problém.</p>



</body><div id="saka-gui-root" style="position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; z-index: 2147483647; opacity: 1; pointer-events: none;"><div></div></div></html>